{% extends 'base.html' %}

{% block title %}TODO List{% endblock %}

{% block content %}
<h1>üìù My TODO List</h1>

<div style="text-align: center; margin-bottom: 20px;">
    <a href="{% url 'create_todo' %}" class="btn">+ Create New TODO</a>
</div>

<div class="todo-list">
    {% if todos %}
        {% for todo in todos %}
        <div class="todo-item {% if todo.is_resolved %}resolved{% endif %}">
            <h3>{{ todo.title }}</h3>
            {% if todo.description %}
            <p>{{ todo.description }}</p>
            {% endif %}
            <div class="todo-meta">
                {% if todo.due_date %}
                <strong>Due Date:</strong> {{ todo.due_date|date:"F d, Y" }}
                {% endif %}
                <br>
                <strong>Status:</strong> 
                {% if todo.is_resolved %}
                    <span style="color: #28a745;">‚úì Resolved</span>
                {% else %}
                    <span style="color: #dc3545;">‚óã Pending</span>
                {% endif %}
                <br>
                <strong>Created:</strong> {{ todo.created_at|date:"F d, Y" }}
            </div>
            <div class="todo-actions">
                <a href="{% url 'toggle_resolved' todo.id %}" class="btn {% if todo.is_resolved %}btn-warning{% else %}btn-success{% endif %}">
                    {% if todo.is_resolved %}Mark as Unresolved{% else %}Mark as Resolved{% endif %}
                </a>
                <a href="{% url 'edit_todo' todo.id %}" class="btn btn-secondary">Edit</a>
                <a href="{% url 'delete_todo' todo.id %}" class="btn btn-danger">Delete</a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <h2>No TODOs yet!</h2>
            <p>Create your first TODO to get started.</p>
        </div>
    {% endif %}
</div>
{% endblock %}

